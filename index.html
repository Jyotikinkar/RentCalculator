<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monthly Rent Calculator</title>

<style>
/* üîß CRITICAL FIXES */
*,
*::before,
*::after {
  box-sizing: border-box;
}

/* Remove number spinners */
input[type="number"] {
  -moz-appearance: textfield;
}
input[type="number"]::-webkit-inner-spin-button,
input[type="number"]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

/* üåà THEME VARIABLES */
:root {
  --primary:#6366f1;
  --bg-gradient:linear-gradient(135deg,#5f6cff,#7b5bd6);
  --card-bg:rgba(255,255,255,0.94);
  --text:#111827;
  --muted:#6b7280;
  --input-bg:#ffffff;
  --input-border:#d1d5db;
  --result-bg:#f5f7ff;
}

/* üåô Dark Mode */
body.dark {
  --bg-gradient:linear-gradient(135deg,#0f172a,#020617);
  --card-bg:rgba(15,23,42,0.94);
  --text:#e5e7eb;
  --muted:#9ca3af;
  --input-bg:#020617;
  --input-border:#1f2937;
  --result-bg:#020617;
}

body {
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,sans-serif;
  min-height:100vh;
  background-image:
    linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
    url("https://www.decorilla.com/online-decorating/wp-content/uploads/2021/05/Ideas-to-design-your-apartment-by-Decorilla-designer-Megan-W-scaled.jpg");
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
  display:flex;
  justify-content:center;
  padding:40px 16px;
  color:var(--text);
}

.app-wrapper {
  width:100%;
  max-width:560px;
}

/* üßä Glass Card */
.container {
  background:var(--card-bg);
  backdrop-filter:blur(14px);
  border-radius:22px;
  padding:28px;
  box-shadow:0 30px 60px rgba(0,0,0,0.25);
}

/* Header */
.header {
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:24px;
}
h2 {
  margin:0;
  font-size:22px;
  font-weight:700;
}
.toggle {
  background:none;
  border:none;
  cursor:pointer;
  font-size:18px;
  color:var(--text);
}

/* Sections */
.section {
  margin-top:26px;
  padding-top:12px;
  border-top:1px solid rgba(0,0,0,0.05);
}
body.dark .section {
  border-top:1px solid rgba(255,255,255,0.05);
}

.section-title {
  font-size: 14px;
  font-weight: 800;
  letter-spacing: 0.05em;
  text-transform: uppercase;
  color: var(--muted);
  margin-bottom: 14px;
}


/* Inputs */
label {
  font-size:14px;
  font-weight:500;
  color:var(--muted);
  margin-bottom:6px;
  display:block;
}
input {
  width:100%;
  padding:13px 14px;
  font-size:16px;
  border-radius:14px;
  border:1px solid var(--input-border);
  background:var(--input-bg);
  color:var(--text);
}

/* Grid */
.grid-2 {
  display:grid;
  grid-template-columns:minmax(0,1fr) minmax(0,1fr);
  gap:12px;
}

/* Buttons */
button.main-btn {
  margin-top:32px;
  width:100%;
  padding:15px;
  font-size:16px;
  font-weight:700;
  background:var(--primary);
  color:white;
  border:none;
  border-radius:16px;
  cursor:pointer;
}

button.reset-btn {
  margin-top:14px;
  width:100%;
  padding:14px;
  font-size:15px;
  font-weight:600;
  background:#a4bff6;
  color:#111827;
  border:none;
  border-radius:16px;
  cursor:pointer;
}

body.dark button.reset-btn {
  background:#1f2937;
  color:#e5e7eb;
}

/* Result */
.result {
  margin-top:28px;
  padding:20px;
  border-radius:18px;
  background:var(--result-bg);
  font-size:15px;
  line-height:1.7;
}

/* Footer */
.footer {
  margin-top:18px;
  text-align:center;
  font-size:13px;
  color:rgba(255,255,255,0.9);
}
.disclaimer {
  margin-top:12px;
  font-size:12px;
  text-align:center;
  color:rgba(255,255,255,0.7);
}

/* üåÑ BACKGROUND ROTATOR */
.bg-rotator {
  position: fixed;
  inset: 0;
  z-index: -2;
  background-size: cover;
  background-position: center;
  transition:
    background-image 1s ease-in-out,
    filter 1.2s ease-in-out,
    transform 12s linear;
}

.bg-rotator::after {
  content:"";
  position:absolute;
  inset:0;
  background:rgba(0,0,0,0.55);
}

body.dark .bg-rotator::after {
  background:rgba(0,0,0,0.75);
}
</style>

<style>
/* ===========================
   üßä GLASS UI ENHANCEMENTS
   (Non-destructive overlay)
   =========================== */

/* Glass inputs */
input {
  background: rgba(255,255,255,0.55);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.35),
    0 8px 20px rgba(0,0,0,0.12);
}

/* Dark mode inputs */
body.dark input {
  background: rgba(15,23,42,0.55);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.08),
    0 8px 22px rgba(0,0,0,0.6);
}

/* Glass buttons */
button.main-btn,
button.reset-btn {
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.35),
    0 14px 28px rgba(0,0,0,0.25);
}

/* Hover lift */
button.main-btn:hover,
button.reset-btn:hover {
  transform: translateY(-1px);
}

/* Glass result box */
.result {
  background: rgba(255,255,255,0.6);
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.35),
    0 20px 40px rgba(0,0,0,0.18);
}

/* Dark mode result */
body.dark .result {
  background: rgba(2,6,23,0.55);
  box-shadow:
    inset 0 1px 1px rgba(255,255,255,0.06),
    0 20px 45px rgba(0,0,0,0.65);
}

/* ===============================
   üßä TRANSPARENT GLASS FORM
   =============================== */

/* Light mode glass */
.container {
  background: rgba(255, 255, 255, 0.72); /* ‚Üê transparency */
  backdrop-filter: blur(.5px);
  -webkit-backdrop-filter: blur(.5px);
  box-shadow:
    0 30px 60px rgba(0,0,0,0.25),
    inset 0 1px 1px rgba(255,255,255,0.4);
}

/* Dark mode glass */
body.dark .container {
  background: rgba(15, 23, 42, 0.65); /* ‚Üê dark transparency */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(.5px);
  box-shadow:
    0 30px 70px rgba(0,0,0,0.65),
    inset 0 1px 1px rgba(255,255,255,0.08);
}

/* Optional: soften section dividers */
.section {
  border-top: 1px solid rgba(0,0,0,0.08);
}
body.dark .section {
  border-top: 1px solid rgba(255,255,255,0.08);
}
  
  /* ==================================================
   üìÖ CROSS-PLATFORM MONTH INPUT FIX (iOS + Android)
   ================================================== */

/* Base normalization for ALL platforms */
input[type="month"] {
  height: 48px;
  min-height: 48px;
  padding: 12px 14px;
  font-size: 16px;
  line-height: 24px;
  border-radius: 14px;
}

/* üçé iOS Safari override */
@supports (-webkit-touch-callout: none) {
  input[type="month"] {
    appearance: none;
    -webkit-appearance: none;

    height: 48px !important;
    min-height: 48px !important;
    padding: 12px 14px !important;

    font-size: 16px !important;
    line-height: 24px !important;

    /* remove iOS internal UI spacing */
    background-clip: padding-box;
  }

  /* Normalize calendar icon */
  input[type="month"]::-webkit-calendar-picker-indicator {
    height: 18px;
    width: 18px;
    margin: 0;
    padding: 0;
    opacity: 0.6;
  }
}


  
</style>

</head>

<body>

<div class="app-wrapper">
<div class="container">

<div class="header">
  <h2>üè† Monthly Rent Calculator</h2>
  <button class="toggle" onclick="toggleDarkMode()">üåô</button>
</div>

<div class="section">
  <div class="section-title">üíß Water</div>
  <div class="grid-2">
    <div>
      <label>Previous</label>
      <input type="number" id="waterPrev">
    </div>
    <div>
      <label>Current</label>
      <input type="number" id="waterCurr">
    </div>
  </div>
  <label>Cost per Unit</label>
  <input type="number" id="waterCost">
  <div id="waterResult" style="margin-top:12px;font-weight:600;"></div>
</div>

<div class="section">
  <div class="section-title">üìã Basic Info</div>
  <label>üìÖ Rent Month</label>
  <input type="month" id="rentMonth">
  <label>üë§ Name</label>
  <input type="text" id="name">
</div>

<div class="section">
  <div class="section-title">üë• Persons</div>
  <label>Total Persons</label>
  <input type="number" id="totalPersons">
  <label>Persons in Family</label>
  <input type="number" id="familyPersons">
</div>

<div class="section">
  <div class="section-title">üõèÔ∏è House Rent</div>
  <input type="number" id="houseRent">
</div>

<div class="section">
  <div class="section-title">‚ö° Electricity</div>
  <div class="grid-2">
    <div>
      <label>Previous</label>
      <input type="number" id="elecPrev">
    </div>
    <div>
      <label>Current</label>
      <input type="number" id="elecCurr">
    </div>
  </div>
  <label>Cost per Unit</label>
  <input type="number" id="elecCost">
</div>

<button class="main-btn" onclick="calculateRent()">Calculate & Save</button>
<button class="reset-btn" onclick="resetAllExceptWater()">Reset</button>

<div class="result" id="output"></div>
</div>

<div class="footer">Powered by <strong>Jyotikinkar</strong></div>
<div class="disclaimer">¬© 2026 Jyotikinkar. All rights reserved.</div>
</div>

<div class="bg-rotator"></div>

<script>
const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbz0JN2bSLzpV8agQxFu2QG2Vmk-sK3zY26WUC_HP-VWAF3g--q2SsMH38fWG1jVf9aB/exec";

/* üåô Dark Mode */
function toggleDarkMode() {
  document.body.classList.toggle("dark");
  localStorage.setItem("darkMode", document.body.classList.contains("dark"));
}
if (localStorage.getItem("darkMode") === "true") {
  document.body.classList.add("dark");
}

/* üßÆ Calculator (UNCHANGED) */
function calculateRent() {
  var name = document.getElementById("name").value || "";
  var rentMonth = document.getElementById("rentMonth").value || "";
  var houseRent = Number(document.getElementById("houseRent").value) || 0;

  var elecPrev = Number(document.getElementById("elecPrev").value) || 0;
  var elecCurr = Number(document.getElementById("elecCurr").value) || 0;
  var elecCost = Number(document.getElementById("elecCost").value) || 0;
  var electricityRent = (elecCurr - elecPrev) * elecCost;

  var totalPersons = Number(document.getElementById("totalPersons").value) || 1;
  var familyPersons = Number(document.getElementById("familyPersons").value) || 0;

  var waterPrev = Number(document.getElementById("waterPrev").value) || 0;
  var waterCurr = Number(document.getElementById("waterCurr").value) || 0;
  var waterCost = Number(document.getElementById("waterCost").value) || 0;
  var totalWaterRent = (waterCurr - waterPrev) * waterCost;

  var familyWaterRent = (totalWaterRent / totalPersons) * familyPersons;
  var totalMonthlyRent = houseRent + electricityRent + familyWaterRent;

  electricityRent = Math.round(electricityRent);
  totalWaterRent = Math.round(totalWaterRent);
  familyWaterRent = Math.round(familyWaterRent);
  totalMonthlyRent = Math.round(totalMonthlyRent);

  document.getElementById("waterResult").innerHTML =
    "<b>Total Water Rent:</b> ‚Çπ" + totalWaterRent;

  document.getElementById("output").innerHTML =
    "<b>Rent Month:</b> " + rentMonth + "<br><br>" +
    "<b>Name:</b> " + name + "<br><br>" +
    "<b>House Rent:</b> ‚Çπ" + houseRent + "<br>" +
    "<b>Electricity Rent:</b> ‚Çπ" + electricityRent + "<br>" +
    "<b>Family Water Rent:</b> ‚Çπ" + familyWaterRent + "<br><br>" +
    "<b>Total Monthly Rent:</b> ‚Çπ" + totalMonthlyRent;

  fetch(GOOGLE_SHEET_URL, {
    method:"POST",
    mode:"no-cors",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({
      rentMonth, name, houseRent,
      elecPrev, elecCurr, electricityRent,
      waterPrev, waterCurr, totalWaterRent,
      familyPersons, familyWaterRent, totalMonthlyRent
    })
  });
}

/* üîÅ RESET (EXCEPT WATER) */
function resetAllExceptWater() {
  document.getElementById("name").value = "";
  document.getElementById("familyPersons").value = "";
  document.getElementById("houseRent").value = "";
  document.getElementById("elecPrev").value = "";
  document.getElementById("elecCurr").value = "";
  document.getElementById("elecCost").value = "";
  document.getElementById("output").innerHTML = "";
}

/* üåÑ Background Rotation (UNCHANGED) */
const bgImages = [
  "https://www.decorilla.com/online-decorating/wp-content/uploads/2021/05/Ideas-to-design-your-apartment-by-Decorilla-designer-Megan-W-scaled.jpg",
  "https://images.unsplash.com/photo-1505691938895-1758d7feb511",
  "https://images.unsplash.com/photo-1560448204-e02f11c3d0e2",
  "https://images.unsplash.com/photo-1522708323590-d24dbb6b0267"
];

let bgIndex = 0;
const bg = document.querySelector(".bg-rotator");

function rotateBackground() {
  bg.style.filter = "blur(6px)";
  bg.style.transform = "scale(1.05)";
  setTimeout(() => {
    bg.style.backgroundImage = `url('${bgImages[bgIndex]}')`;
    bg.style.filter = "blur(0)";
    bg.style.transform = "scale(1)";
    bgIndex = (bgIndex + 1) % bgImages.length;
  }, 600);
}

bg.style.backgroundImage = `url('${bgImages[0]}')`;
setInterval(rotateBackground, 4000);
</script>

</body>
</html>
