<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Monthly Rent Calculator</title>

<style>
body {
    margin: 0;
    font-family: -apple-system, BlinkMacSystemFont, Arial, sans-serif;
    min-height: 100vh;
    background-image:
        linear-gradient(rgba(0,0,0,0.55), rgba(0,0,0,0.55)),
        url("https://www.decorilla.com/online-decorating/wp-content/uploads/2021/05/Ideas-to-design-your-apartment-by-Decorilla-designer-Megan-W-scaled.jpg");
    background-size: cover;
    background-position: center;
    display: flex;
    justify-content: center;
    padding: 40px 16px;
}

.app-wrapper {
    width: 100%;
    max-width: 560px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

.container {
    width: 100%;
    background: rgba(255,255,255,0.96);
    padding: 24px;
    border-radius: 18px;
    box-shadow: 0 25px 50px rgba(0,0,0,0.35);
}

h2 {
    text-align: center;
    margin-bottom: 20px;
}
h3 {
    margin-top: 24px;
    border-bottom: 1px solid #ddd;
    padding-bottom: 4px;
}

label {
    margin-top: 12px;
    display: block;
    font-weight: 600;
}
input {
    width: 100%;
    padding: 10px;
    margin-top: 6px;
    border-radius: 8px;
    border: 1px solid #bbb;
    font-size: 16px;
}

button {
    margin-top: 24px;
    width: 100%;
    padding: 14px;
    font-size: 17px;
    font-weight: 600;
    background: #667eea;
    color: white;
    border: none;
    border-radius: 12px;
    cursor: pointer;
}

.result {
    margin-top: 24px;
    padding: 16px;
    background: #f4f6ff;
    border-radius: 12px;
    font-size: 15px;
}

.footer {
    margin-top: 16px;
    font-size: 13px;
    color: rgba(255,255,255,0.9);
}

.disclaimer {
    margin-top: 16px;
    font-size: 12px;
    color: rgba(255,255,255,0.75);
    text-align: center;
}
</style>
</head>

<body>

<div class="app-wrapper">

<div class="container">
<h2>üè† Monthly Rent Calculator</h2>

<h3>üë§ Name</h3>
<input type="text" id="name">  

<h3>üíß Water</h3>
<label>Previous Reading</label>
<input type="number" id="waterPrev">
<label>Current Reading</label>
<input type="number" id="waterCurr">
<label>Cost per Unit</label>
<input type="number" id="waterCost">

<label>Total Persons</label>
<input type="number" id="totalPersons">

<label>Persons in Your Family</label>
<input type="number" id="familyPersons">

<div id="waterResult" style="margin-top:10px; font-weight:600;"></div>      

<h3>üõèÔ∏è Room Rent</h3>
<label>House Rent</label>
<input type="number" id="houseRent">

<h3>‚ö° Electricity</h3>
<label>Previous Reading</label>
<input type="number" id="elecPrev">
<label>Current Reading</label>
<input type="number" id="elecCurr">
<label>Cost per Unit</label>
<input type="number" id="elecCost">  

<button onclick="calculateRent()">Calculate & Save</button>

<div class="result" id="output"></div>
</div>

<div class="footer">Powered by <strong>Jyotikinkar</strong></div>

<div class="disclaimer">
By using this calculator, you agree that results are for informational purposes only.
¬© 2025 Jyotikinkar. All rights reserved.
</div>

</div>

<script>

const GOOGLE_SHEET_URL = "https://script.google.com/macros/s/AKfycbxV-Kt8OFl7_stEo3p9eoUi2hC3VotXNwMPhAMaVTx1qrqJFAKhDeZjvLOMd06ub8F4/exec";

function calculateRent() {

    var name = document.getElementById("name").value || "";
    var houseRent = Number(document.getElementById("houseRent").value) || 0;

    var elecPrev = Number(document.getElementById("elecPrev").value) || 0;
    var elecCurr = Number(document.getElementById("elecCurr").value) || 0;
    var elecCost = Number(document.getElementById("elecCost").value) || 0;
    var electricityRent = (elecCurr - elecPrev) * elecCost;

    var waterPrev = Number(document.getElementById("waterPrev").value) || 0;
    var waterCurr = Number(document.getElementById("waterCurr").value) || 0;
    var waterCost = Number(document.getElementById("waterCost").value) || 0;
    var totalWaterRent = (waterCurr - waterPrev) * waterCost;

    var totalPersons = Number(document.getElementById("totalPersons").value) || 1;
    var familyPersons = Number(document.getElementById("familyPersons").value) || 0;
    var familyWaterRent = (totalWaterRent / totalPersons) * familyPersons;

    document.getElementById("waterResult").innerHTML = "Total Water Rent: ‚Çπ" + totalWaterRent.toFixed(2);
	

    var totalMonthlyRent = houseRent + electricityRent + familyWaterRent;

	// üîµ Round off all calculated values
	electricityRent = Math.round(electricityRent);
	totalWaterRent = Math.round(totalWaterRent);
	familyWaterRent = Math.round(familyWaterRent);
	totalMonthlyRent = Math.round(totalMonthlyRent);


    document.getElementById("output").innerHTML =
        "<b>Name:</b> " + name + "<br><br>" +
        "<b>House Rent:</b> ‚Çπ" + houseRent.toFixed(2) + "<br>" +
        "<b>Electricity Rent:</b> ‚Çπ" + electricityRent.toFixed(2) + "<br>" +
        "<b>Family Water Rent:</b> ‚Çπ" + familyWaterRent.toFixed(2) + "<br><br>" +
        "<b>Total Monthly Rent:</b> ‚Çπ" + totalMonthlyRent.toFixed(2);

    saveToGoogleSheet({
    name: name,
    houseRent: houseRent,

    elecPrev: elecPrev,
    elecCurr: elecCurr,
    electricityRent: electricityRent,

    waterPrev: waterPrev,
    waterCurr: waterCurr,
    totalWaterRent: totalWaterRent,

    familyPersons: familyPersons,
    familyWaterRent: familyWaterRent,
    totalMonthlyRent: totalMonthlyRent
});


}

function saveToGoogleSheet(data) {
    fetch(GOOGLE_SHEET_URL, {
        method: "POST",
        mode: "no-cors",   // <-- IMPORTANT
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify(data)
    })
    .then(() => {
        alert("Saved to Google Sheets ‚úÖ");
    })
    .catch(() => {
        alert("Failed to save ‚ùå");
    });
}

</script>

</body>
</html>
